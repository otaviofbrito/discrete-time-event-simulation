<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Report</title>
    <link rel="stylesheet" href="template/template.css" />
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
    <script src="template/script.js"></script>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Simulação via Eventos Discretos</h1>
        <p class="subtitle">Discrete Time Event Simulation</p>
      </header>
      <article>
        <p>
          Os elementos chave em uma simulação por eventos discretos são
          variáveis e eventos. Para executar a simulação, é necessário manter o
          controle de certas variáveis. No geral, existem três tipos de
          variáveis que devemos manipular:
        </p>
        <ul>
          <li>
            <strong>Variável de tempo:</strong> representa a quantidade de tempo
            simulado que passou.
          </li>
          <li>
            <strong>Variável de contagem:</strong> mantém a contagem de quantas
            vezes um determinado evento ocorreu até o tempo <em>t</em>.
          </li>
          <li>
            <strong>Variável de estado do sistema:</strong> descreve o estado do
            sistema em um instante de tempo <em>t</em>.
          </li>
        </ul>
        <p>
          Durante a simulação, os eventos ocorrem em pontos específicos no
          tempo, e cada evento pode alterar o estado do sistema ou influenciar
          outras variáveis. O objetivo de uma simulação de eventos discretos é
          coletar informações e métricas do sistema, como tempo médio de espera,
          utilização do sistema, número médio de elementos no sistema, entre
          outros.
        </p>
        <p>
          Em modelos de fila <b>M/M/1</b> em que há apenas um servidor,
          consideramos que os clientes chegam de acordo com um processo de
          <b>Poisson</b> e os tempos de serviço têm uma distribuição
          <b>exponencial</b>. Na simulação desse modelo, utilizamos a seguinte
          função para a geração dos tempos:
        </p>
        <p>$$T = \frac{-1}{\lambda} \cdot ln(U)$$</p>
        <p>
          onde <i><b>U</b></i> é um número aleatório gerado uniformemente no
          intervalo (0,1).
        </p>
      </article>
      <hr class="stylized-line" />
      <div>
        <h2>Medidas de Desempenho</h2>
        <p>
          O modelo é considerado estável somente se \(\lambda < \mu\). Se, em
          média, as chegadas ocorrem mais rapidamente que as conclusões dos
          serviços, a fila se tornará indefinidamente longa.
        </p>

        Foram realizadas simulações cujos parâmetros estão descritos na legenda
        de cada gráfico:
        <ul>
          <li>
            <b
              >(1/λ: Tempo médio entre as chegadas, 1/μ: Tempo médio de
              atendimento)</b
            >
          </li>
        </ul>
        Em seguida, são calculadas diferentes medidas de desempenho para validar
        a consistência do sistema.
      </div>

      <div class="plot">
        <h3>1. Utilização/Ocupação (ρ)</h3>
        <p>
          A utilização ou ocupação do sistema mede a proporção média do tempo em
          que o servidor fica ocupado em relação ao tempo total de operação, é
          necessário que \( \rho < 1 \) para que a fila seja estável, caso
          contrário ela crescerá indefinidamente. A utilização é dada pela
          fórmula: $$\rho = \frac{\lambda}{\mu}$$
        </p>

        {{ fig2|safe }}

        <div class="calc">
          <h3>Valide a utilização:</h3>
          <div class="conta">
            ρ =
            <div class="left">
              <div class="input">
                <label for="util_lambda">Taxa de chegada (λ):</label>
                <input
                  type="number"
                  id="util_lambda"
                  placeholder="λ"
                  min="0"
                  step="0.1"
                />
              </div>

              <div>
                <hr />
                <div class="input">
                  <label for="util_mu">Taxa de serviço (μ):</label>
                  <input
                    type="number"
                    id="util_mu"
                    placeholder="μ"
                    min="0"
                    step="0.1"
                  />
                </div>
              </div>
            </div>
            <div class="right">
              <p id="util_res"></p>
            </div>
          </div>

          <button onclick="calcularOcupacao()">Calcular</button>
        </div>
      </div>
      <hr class="stylized-line" />

      <div class="plot">
        <h3>2. Número máximo de elementos na fila</h3>
        <p>
          Este gráfico mostra o número máximo de elementos na fila durante a
          simulação. O número de elementos pode variar dependendo da taxa de
          chegada de novos elementos e da capacidade do sistema de processá-los.
        </p>
        {{ fig1|safe }}
      </div>
      <hr class="stylized-line" />

      <div class="plot">
        <h3>
          3. Média de elementos no sistema (E[N]) & Tempo médio de espera (E[W])
        </h3>
        <p>
          A média de elementos no sistema reflete quantos itens, em média, estão
          presentes no sistema a qualquer instante de tempo. Já o tempo médio de
          espera representa o tempo que um elemento passa na fila antes de ser
          processado.
        </p>
        <p>Fórmulas utilizadas:</p>
        <p>$$L = E[N] = \frac{\rho}{1-\rho}$$</p>
        <p>$$W = E[W] = \frac{1}{\mu(1-\rho)} = \frac{1}{(\mu - \lambda)}$$</p>
        {{ fig3|safe }}

        <div class="validate">
          <div class="calc">
            <h3>Valide o E[N]:</h3>
            <div class="conta">
              <div class="input">
                <label for="e_rho"> (ρ):</label>
                <input
                  type="number"
                  id="e_rho"
                  placeholder="ρ"
                  min="0"
                  step="0.1"
                />

                <div class="input">
                  <label for="e_rho"> (ρ):</label>
                  <input
                    type="number"
                    id="e_rho"
                    placeholder="ρ"
                    min="0"
                    step="0.1"
                  />
                </div>

                <div class="input">
                  <label for="e_rho"> (ρ):</label>
                  <input
                    type="number"
                    id="e_rho"
                    placeholder="ρ"
                    min="0"
                    step="0.1"
                  />
                </div>
              </div>
            </div>
            <button onclick="calcularL()">Calcular</button>
          </div>

          <div class="calc">
            <div class="conta">
              <p>$$E[N] = \frac{\rho}{1-\rho}$$</p>
              <p id="e_res"></p>
            </div>
          </div>

          <div class="calc">
            <div class="conta">
              <p>$$E[W] = \frac{1}{(\mu - \lambda)}$$</p>
              <p id="res_en"></p>
            </div>
          </div>
        </div>
      </div>

      <hr class="stylized-line" />

      <div class="plot">
        <h3>4. Taxa de chegada de elementos no sistema - Lambda (λ)</h3>
        <p>
          A taxa de chegada, ou Lambda (λ), representa o número de novos
          elementos que chegam ao sistema por unidade de tempo. Este valor é
          fundamental para calcular outras métricas, como a utilização e o
          número de elementos no sistema.
        </p>
        {{ fig4|safe }}
      </div>
      <hr class="stylized-line" />

      <div class="plot">
        <h3>5. Erro de Little</h3>
        <p>
          O Erro de Little verifica a validade da fórmula de Little, que
          estabelece uma relação entre o número médio de itens no sistema, o
          tempo médio de espera e a taxa de chegada de itens. Um erro muito alto
          pode indicar inconsistências na simulação. Para garantir consistência,
          o erro de Little deve ser próximo de 0.
        </p>
        <p>Lei de Little: $$E[N] = \lambda \cdot E[W]$$</p>
        <p>Erro de Little: $$E = \lambda \cdot E[W] - E[N]$$</p>
        {{ fig5|safe }}
      </div>
      <hr class="stylized-line" />
      <div>
        <h3>Referências</h3>
        <ol>
          <li>
            <p>
              ROSS, S. M., <em>Simulation</em>. 4ª ed. San Diego: Academic
              Press, 2006.
            </p>
          </li>
        </ol>
      </div>

      <hr class="stylized-line" />

      <footer>
        <p>
          &copy; 2024 Otávio Brito &
          <a href="https://github.com/aliciagarnier" target="_blank"
            >Alicia Garnier</a
          >.
        </p>
        <a href="https://github.com/otaviofbrito/discrete-time-event-simulation"
          >Github</a
        >
      </footer>
    </div>
  </body>
</html>
